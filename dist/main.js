(()=>{"use strict";var e,t,n,o=document.querySelector(".popup_edit"),r=document.querySelector(".popup_place"),c=document.querySelector(".popup-photo"),u=document.querySelector(".profile__edit-button"),s=o.querySelector(".popup__close-button"),i=document.querySelector("#form_edit"),a=i.querySelector(".form__input_type_name"),l=i.querySelector(".form__input_type_about"),d=document.querySelector(".profile__name"),p=document.querySelector(".profile__caption"),_=document.querySelector(".profile__add-button"),m=r.querySelector(".popup__close-button"),f=document.querySelector("#form_place"),v=f.querySelector(".form__input_type_title"),y=f.querySelector(".form__input_type_link"),S=f.querySelector(".form__button-save"),q=document.querySelector(".popup-photo__close-button"),k=c.querySelector(".popup-photo__image"),b=c.querySelector(".popup-photo__title"),L=document.querySelector(".cards"),E=document.querySelector("#card").content,C=function(e){L.prepend(e)};function h(e){"Escape"===e.key&&g(document.querySelector(".popup_opened"))}function x(e){e.classList.add("popup_opened"),document.addEventListener("keyup",h)}function g(e){e.classList.remove("popup_opened"),document.removeEventListener("keyup",h)}function j(e){var t=E.querySelector(".cards__list-item").cloneNode(!0),n=t.querySelector(".cards__like-button"),o=t.querySelector(".cards__delete-button"),r=t.querySelector(".cards__image"),u=t.querySelector(".cards__title");return u.textContent=e.name,r.src=e.link,r.alt="Фотография ".concat(u.textContent),n.addEventListener("click",(function(){n.classList.toggle("cards__like-button_active")})),o.addEventListener("click",(function(){o.closest(".cards__list-item").remove()})),r.addEventListener("click",(function(){x(c),k.src=r.src,b.textContent=u.textContent,k.alt="Фотография ".concat(b.textContent)})),t}Array.from(document.querySelectorAll(".popup")).forEach((function(e){e.addEventListener("click",(function(e){!function(e){e.target.classList.contains("popup_opened")&&g(e.target)}(e)}))})),u.addEventListener("click",(function(){a.value=d.textContent,l.value=p.textContent,x(o)})),s.addEventListener("click",(function(){g(o)})),_.addEventListener("click",(function(){f.reset(),S.classList.add("form__button-save_disabled"),S.disabled=!0,x(r)})),m.addEventListener("click",(function(){g(r)})),q.addEventListener("click",(function(){g(c)})),i.addEventListener("submit",(function(e){e.preventDefault(),d.textContent=a.value,p.textContent=l.value,g(o)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=j(e);C(t)})),f.addEventListener("submit",(function(e){e.preventDefault();var t=j({name:v.value,link:y.value});C(t),f.reset(),g(r)})),e={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__button-save",inactiveButtonClass:"form__button-save_disabled",inputErrorClass:"form__input_type_error",errorClass:"popup__input-error_visible"},t=function(t,n){n.validity.valid?function(t,n){n.classList.remove(e.inputErrorClass);var o=t.querySelector(".".concat(n.id,"-error"));o.textContent="",o.classList.remove(e.errorClass)}(t,n):function(t,n){n.classList.add(e.inputErrorClass);var o=t.querySelector(".".concat(n.id,"-error"));o.textContent=n.validationMessage,o.classList.add(e.errorClass)}(t,n)},n=function(t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(t)?(n.classList.remove(e.inactiveButtonClass),n.disabled=!1):(n.classList.add(e.inactiveButtonClass),n.disabled=!0)},Array.from(document.querySelectorAll(e.formSelector)).forEach((function(o){!function(o){var r=Array.from(o.querySelectorAll(e.inputSelector)),c=o.querySelector(e.submitButtonSelector);n(r,c),r.forEach((function(e){e.addEventListener("input",(function(){t(o,e),n(r,c)}))}))}(o)}))})();